<?xml version="1.0" encoding="utf-8"?>
<!-- =================================================================================== -->
<!-- |    This document was autogenerated by xacro from lwr_with_wsg50.xacro           | -->
<!-- |    EDITING THIS FILE BY HAND IS NOT RECOMMENDED                                 | -->
<!-- =================================================================================== -->
<robot name="lwr" xmlns:controller="http://playerstage.sourceforge.net/gazebo/xmlschema/#controller" xmlns:interface="http://playerstage.sourceforge.net/gazebo/xmlschema/#interface" xmlns:sensor="http://playerstage.sourceforge.net/gazebo/xmlschema/#sensor">
  <!-- Kuka LWR with Schunk WSG-50 gripper, experiment table. UHAM room F329 setup.
       05.03.2022 - change tcp frame to the original one, use pi for high accuracy transform, clean up
       23.02.2022 - add left obstacle, hide obstacle visual, change obstacle color
       29.06.2016 - catkinize'd version
       16.09.2013 - trying to calibrate the gripper precisely
       06.09.2013 - updated for Gazebo, cameras
       02.08.2013 - new file
  -->
  <material name="Black">
    <color rgba="0.0 0.0 0.0 1.0"/>
  </material>
  <material name="Blue">
    <color rgba="0.0 0.0 0.8 1.0"/>
  </material>
  <material name="Green">
    <color rgba="0.0 0.8 0.0 1.0"/>
  </material>
  <material name="Grey">
    <color rgba="0.2 0.2 0.2 1.0"/>
  </material>
  <material name="LightGrey">
    <color rgba="0.6 0.6 0.6 1.0"/>
  </material>
  <material name="DarkOrange">
    <!-- ff8c00 -->
    <color rgba="1.0 0.54 0.0 1.0"/>
  </material>
  <material name="Red">
    <color rgba="0.8 0.0 0.0 1.0"/>
  </material>
  <material name="White">
    <color rgba="1.0 1.0 1.0 1.0"/>
  </material>
  <material name="Gold">
    <color rgba="0.80  0.50  0.20  1.0"/>
  </material>
  <material name="Silver">
    <color rgba="0.90  0.91  0.98  1.0"/>
  </material>
  <material name="Copper">
    <color rgba="0.71  0.65  0.26  1.0"/>
  </material>
  <material name="Brass">
    <color rgba="0.71  0.65  0.26  1.0"/>
  </material>
  <!-- Schunk WSG-50 gripper with Weiss DSA tactile fingers

  11.05.2017 - reformat without tabs
  11.05.2017 - updated with DSA fingers

  (c) 2017 fnh, hendrich@informatik.uni-hamburg.de

-->
  <!-- FNH
    xacro/URDF model of the KuKA light-weight robot (LWR/LBR), based on the
    model in $(find lwr_defs), but modified and adpated to our UHAM setup.

    From the datasheet:
    total height of robot base to A1 axis (0_joint): 280 mm,
    total robot length from A1 axis to A5/A6 axis (wrist):  1100.5mm
    total robot length from A1 to flange: 1178.5mm, so flange z 78.5mm
      (which includes the custom cable adapter)


    17.01.2017 - rename calib_... to lwr_arm_base_link
    29.09.2016 - update transmission blocks
    29.06.2016 - rename stuff as .xacro
    06.08.2012 - update arm_7_link geometry from datasheet
    03.08.2012 - remove <safety_controllers> on joint 1, otherwise torque/effort too low
    03.08.2012 - update SimpleTransmission to pr2_mechanicsm:../SimpleTransmission
    03.08.2012 - change joint damping from 1 to 50, add mechanicalReduction=50
    03.08.2012 - replace real-inertia from util_defs.xml with "Gazebo/ODE"-compatible inertia terms
    03.08.2012 - try selfCollide=false and kp kd mu1 mu2 to avoid the oscillations
    02.08.2012 - add missing <visual> tags and things, cylinders as link7 mounting plate
    02.08.2012 - modify world_link mess to use the robot in our UHAM setup


  -->
  <material name="LwrDarkGrey">
    <color rgba="0.3 0.3 0.3 1.0"/>
  </material>
  <material name="LwrRed">
    <color rgba="0.3 0.3 0.3 1.0"/>
  </material>
  <material name="LwrBlack">
    <color rgba="0 0 0 1.0"/>
  </material>
  <material name="LwrOrange">
    <color rgba="1.0 0.487 0 1.0"/>
  </material>
  <material name="LwrSilver">
    <color rgba="0.9 0.9 0.8 1.0"/>
  </material>
  <material name="LwrSickBlue">
    <color rgba="0.3058 0.5921 0.7294 1.0"/>
  </material>
  <!-- <xacro:include filename="$(find tams_lwr_description)/urdf/lwr_gazebo.xacro"/> -->
  <!-- this publishes joint_states according to joint transmission's -->
  <!-- note that we have no explicit namespace for the KuKA LWR -->
  <gazebo>
    <plugin filename="libgazebo_ros_control.so" name="lwr_gazebo_ros_control">
      <robotParam>robot_description</robotParam>
      <robotNamespace>&quot;&quot;</robotNamespace>
    </plugin>
  </gazebo>
  <link name="world"/>
  <!-- the experiment tables, current setup in F329 -->
  <!-- two large tables 180x100, two small tables 80x100 -->
  <!-- table height 0.80meters, robot at xyz=... -->
  <link name="four_tables">
    <origin xyz="0 0 0"/>
    <inertial>
      <mass value="30.0"/>
      <origin xyz="0 0 0.4"/>
      <inertia ixx="1" ixy="0" ixz="0" iyy="1" iyz="0" izz="1"/>
    </inertial>
    <visual>
      <geometry>
        <box size="2.6 2.0 0.8"/>
      </geometry>
      <material name="White"/>
    </visual>
    <collision>
      <geometry>
        <box size="2.6 2.0 0.8"/>
      </geometry>
      <material name="Grey"/>
    </collision>
  </link>
  <gazebo reference="four_tables">
    <material>handle/KotoWood</material>
    <mu1>50.0</mu1>
    <mu2>50.0</mu2>
    <kp>1000000.0</kp>
    <kd>1.0</kd>
    <selfCollide>true</selfCollide>
  </gazebo>
  <joint name="four_tables_joint" type="fixed">
    <!-- the experiment/lab table -->
    <origin rpy="0 0 -1.57079632679" xyz="-0.31 -0.19 0.4"/>
    <parent link="world"/>
    <child link="four_tables"/>
  </joint>
  <link name="monitors_and_webcam_obstacle">
    <origin xyz="0 0 0"/>
    <inertial>
      <mass value="3.0"/>
      <origin xyz="0 0 0.3"/>
      <inertia ixx="1" ixy="0" ixz="0" iyy="1" iyz="0" izz="1"/>
    </inertial>
    <visual>
      <geometry>
        <box size="0 0 0"/>
      </geometry>
      <material name="Grey"/>
    </visual>
    <collision>
      <geometry>
        <box size="3 1.0 2"/>
      </geometry>
      <material name="Grey"/>
    </collision>
  </link>
  <gazebo reference="monitors_and_webcam_obstacle">
    <material>Gazebo/Black</material>
    <mu1>50.0</mu1>
    <mu2>50.0</mu2>
    <kp>1000000.0</kp>
    <kd>1.0</kd>
    <selfCollide>true</selfCollide>
  </gazebo>
  <joint name="monitors_and_webcam_obstacle_joint" type="fixed">
    <!-- the experiment/lab table -->
    <origin rpy="0 0 -1.57079632679" xyz="-0.81 -0.59 1.1"/>
    <parent link="world"/>
    <child link="monitors_and_webcam_obstacle"/>
  </joint>
  <link name="monitors_and_webcam_obstacle2">
    <origin xyz="0 0 0"/>
    <inertial>
      <mass value="3.0"/>
      <origin xyz="0 0 0.3"/>
      <inertia ixx="1" ixy="0" ixz="0" iyy="1" iyz="0" izz="1"/>
    </inertial>
    <visual>
      <geometry>
        <box size="0 0 0"/>
      </geometry>
      <material name="Grey"/>
    </visual>
    <collision>
      <geometry>
        <box size="1.5 1.0 2"/>
        <!-- for bigger workspace:-->
        <!-- <box size="1.0 1.0 2" />-->
      </geometry>
      <material name="Grey"/>
    </collision>
  </link>
  <gazebo reference="monitors_and_webcam_obstacle2">
    <material>Gazebo/Black</material>
    <mu1>50.0</mu1>
    <mu2>50.0</mu2>
    <kp>1000000.0</kp>
    <kd>1.0</kd>
    <selfCollide>true</selfCollide>
  </gazebo>
  <joint name="monitors_and_webcam_obstacle2_joint" type="fixed">
    <!-- the experiment/lab table -->
    <origin rpy="0 0 -1.57079632679" xyz="0.2 -1.25 1.1"/>
    <parent link="world"/>
    <child link="monitors_and_webcam_obstacle2"/>
  </joint>
  <!-- the KuKA mounting plate 275x275x14-->
  <link name="kuka_base_plate">
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0.07"/>
      <mass value="3.0"/>
      <inertia ixx="1" ixy="0.00" ixz="0.00" iyy="1" iyz="0.00" izz="1"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="0.275 0.275 0.014"/>
      </geometry>
      <material name="LightGrey"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="0.275 0.275 0.014"/>
      </geometry>
    </collision>
  </link>
  <gazebo reference="kuka_base_plate">
    <material>Gazebo/WhiteGlow</material>
    <turnGravityOff>false</turnGravityOff>
    <selfCollide>false</selfCollide>
    <!-- kp: stiffness kd: damping mu1, mu2: friction -->
    <mu1>100.0</mu1>
    <mu2>100.0</mu2>
    <kp>1000000.0</kp>
    <kd>1.0</kd>
  </gazebo>
  <joint name="kuka_base_plate_joint" type="fixed">
    <!-- world to Kuka base plate -->
    <origin rpy="0 0 0" xyz="0 0 0.8071"/>
    <!-- table height plus half plate height-->
    <parent link="world"/>
    <child link="kuka_base_plate"/>
  </joint>
  <!-- First (shoulder) element of the arm. Fixed to its parent. -->
  <joint name="world_lwr_arm_base_joint" type="fixed">
    <origin rpy="0 0 0" xyz="0 0 0.8142"/>
    <parent link="world"/>
    <child link="lwr_arm_base_link"/>
  </joint>
  <link name="lwr_arm_base_link">
    <inertial>
      <mass value="2.0"/>
      <origin xyz="0 0 0.055"/>
      <inertia ixx="0.1" ixy="0" ixz="0" iyy="0.1" iyz="0" izz="0.1"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="meshes/arm_base.stl"/>
      </geometry>
      <material name="LwrOrange"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="meshes/arm_base_convex.stl"/>
      </geometry>
    </collision>
  </link>
  <gazebo reference="lwr_arm_base_link">
    <!-- <material value="kuka-lwr.material"/> -->
    <turnGravityOff>false</turnGravityOff>
    <selfCollide>false</selfCollide>
    <mu1>100.0</mu1>
    <mu2>100.0</mu2>
    <kp>1000000.0</kp>
    <kd>1.0</kd>
  </gazebo>
  <!-- Second segment of the arm. Joint along z-axis, effort 204 too weak -->
  <joint name="lwr_arm_0_joint" type="revolute">
    <origin rpy="0 0 0" xyz="0 0 0.11"/>
    <axis xyz="0 0 1"/>
    <limit effort="500" lower="-2.96705972839" upper="2.96705972839" velocity="1.91986217719"/>
    <safety_controller k_position="30" k_velocity="30" soft_lower_limit="-2.93215314335" soft_upper_limit="2.93215314335"/>
    <dynamics damping="30.0"/>
    <parent link="lwr_arm_base_link"/>
    <child link="lwr_arm_1_link"/>
  </joint>
  <transmission name="lwr_arm_0_joint_transmission">
    <type>transmission_interface/SimpleTransmission</type>
    <actuator name="lwr_arm_0_joint_motor">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
      <mechanicalReduction>100</mechanicalReduction>
    </actuator>
    <joint name="lwr_arm_0_joint">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
    </joint>
    <mechanicalReduction>100</mechanicalReduction>
    <motorTorqueConstant>50</motorTorqueConstant>
    <pulsesPerRevolution>10000</pulsesPerRevolution>
  </transmission>
  <link name="lwr_arm_1_link">
    <inertial>
      <mass value="2.0"/>
      <origin rpy="0 0 0" xyz="0 -0.06 0.130"/>
      <inertia ixx="0.1" ixy="0" ixz="0" iyy="0.1" iyz="0" izz="0.1"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="meshes/arm_segment_a.stl"/>
      </geometry>
      <material name="LwrOrange"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="meshes/arm_segment_a_convex.stl"/>
      </geometry>
    </collision>
  </link>
  <gazebo reference="lwr_arm_1_link">
    <!-- <material value="kuka-lwr.material"/> -->
    <turnGravityOff>false</turnGravityOff>
    <selfCollide>false</selfCollide>
    <mu1>100.0</mu1>
    <mu2>100.0</mu2>
    <kp>1000000.0</kp>
    <kd>1.0</kd>
  </gazebo>
  <joint name="lwr_arm_1_joint" type="revolute">
    <origin rpy="-1.57079632679 0 0" xyz="0 0 0.20"/>
    <axis xyz="0 0 1"/>
    <limit effort="306" lower="-2.09439510239" upper="2.09439510239" velocity="1.91986217719"/>
    <!--
            <safety_controller soft_lower_limit="${-118 * pi / 180}"
                               soft_upper_limit="${118 * pi / 180}"
                               k_position="30"
                               k_velocity="30"/>
      -->
    <dynamics damping="20.0" friction="10"/>
    <parent link="lwr_arm_1_link"/>
    <child link="lwr_arm_2_link"/>
  </joint>
  <transmission name="lwr_arm_1_joint_transmission">
    <type>transmission_interface/SimpleTransmission</type>
    <actuator name="lwr_arm_1_joint_motor">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
      <mechanicalReduction>100</mechanicalReduction>
    </actuator>
    <joint name="lwr_arm_1_joint">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
    </joint>
    <mechanicalReduction>100</mechanicalReduction>
    <motorTorqueConstant>50</motorTorqueConstant>
    <pulsesPerRevolution>10000</pulsesPerRevolution>
  </transmission>
  <link name="lwr_arm_2_link">
    <inertial>
      <mass value="2.0"/>
      <origin rpy="0 0 0" xyz="0 0.06 0.07"/>
      <inertia ixx="0.1" ixy="0" ixz="0" iyy="0.1" iyz="0" izz="0.1"/>
    </inertial>
    <visual>
      <origin rpy="-1.57079632679 0 0" xyz="0 -0.2 0"/>
      <geometry>
        <mesh filename="meshes/arm_segment_b.stl"/>
      </geometry>
      <material name="LwrOrange"/>
    </visual>
    <collision>
      <origin rpy="-1.57079632679 0 0" xyz="0 -0.2 0"/>
      <geometry>
        <mesh filename="meshes/arm_segment_b_convex.stl"/>
      </geometry>
    </collision>
  </link>
  <gazebo reference="lwr_arm_2_link">
    <!-- <material value="kuka-lwr.material"/> -->
    <turnGravityOff>false</turnGravityOff>
    <selfCollide>false</selfCollide>
    <mu1>100.0</mu1>
    <mu2>100.0</mu2>
    <kp>1000000.0</kp>
    <kd>1.0</kd>
  </gazebo>
  <!-- Fourth element of the arm. z-axis -->
  <joint name="lwr_arm_2_joint" type="revolute">
    <origin rpy="1.57079632679 0 0" xyz="0 -0.20 0"/>
    <axis xyz="0 0 1"/>
    <limit effort="204" lower="-2.96705972839" upper="2.96705972839" velocity="2.26892802759"/>
    <safety_controller k_position="30" k_velocity="30" soft_lower_limit="-2.93215314335" soft_upper_limit="2.93215314335"/>
    <dynamics damping="30.0"/>
    <parent link="lwr_arm_2_link"/>
    <child link="lwr_arm_3_link"/>
  </joint>
  <transmission name="lwr_arm_2_joint_transmission">
    <type>transmission_interface/SimpleTransmission</type>
    <actuator name="lwr_arm_2_joint_motor">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
      <mechanicalReduction>100</mechanicalReduction>
    </actuator>
    <joint name="lwr_arm_2_joint">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
    </joint>
    <mechanicalReduction>100</mechanicalReduction>
    <motorTorqueConstant>50</motorTorqueConstant>
    <pulsesPerRevolution>10000</pulsesPerRevolution>
  </transmission>
  <link name="lwr_arm_3_link">
    <inertial>
      <mass value="2.0"/>
      <origin rpy="0 0 0" xyz="0 0.06 0.130"/>
      <inertia ixx="0.1" ixy="0" ixz="0" iyy="0.1" iyz="0" izz="0.1"/>
    </inertial>
    <visual>
      <origin rpy="0 0 3.14159265359" xyz="0 0 0"/>
      <geometry>
        <mesh filename="meshes/arm_segment_a.stl"/>
      </geometry>
      <material name="LwrOrange"/>
    </visual>
    <collision>
      <origin rpy="0 0 3.14159265359" xyz="0 0 0"/>
      <geometry>
        <mesh filename="meshes/arm_segment_a_convex.stl"/>
      </geometry>
    </collision>
  </link>
  <gazebo reference="lwr_arm_3_link">
    <!-- <material value="kuka-lwr.material"/> -->
    <turnGravityOff>false</turnGravityOff>
    <selfCollide>false</selfCollide>
    <mu1>100.0</mu1>
    <mu2>100.0</mu2>
    <kp>1000000.0</kp>
    <kd>1.0</kd>
  </gazebo>
  <!-- fifth element of the arm. x-axis -->
  <joint name="lwr_arm_3_joint" type="revolute">
    <origin rpy="1.57079632679 0 0" xyz="0 0 0.20"/>
    <axis xyz="0 0 1"/>
    <limit effort="306" lower="-2.09439510239" upper="2.09439510239" velocity="2.26892802759"/>
    <safety_controller k_position="30" k_velocity="30" soft_lower_limit="-2.05948851735" soft_upper_limit="2.05948851735"/>
    <dynamics damping="30.0"/>
    <parent link="lwr_arm_3_link"/>
    <child link="lwr_arm_4_link"/>
  </joint>
  <transmission name="lwr_arm_3_joint_transmission">
    <type>transmission_interface/SimpleTransmission</type>
    <actuator name="lwr_arm_3_joint_motor">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
      <mechanicalReduction>100</mechanicalReduction>
    </actuator>
    <joint name="lwr_arm_3_joint">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
    </joint>
    <mechanicalReduction>100</mechanicalReduction>
    <motorTorqueConstant>50</motorTorqueConstant>
    <pulsesPerRevolution>10000</pulsesPerRevolution>
  </transmission>
  <link name="lwr_arm_4_link">
    <inertial>
      <mass value="2.0"/>
      <origin rpy="0 0 0" xyz="0 -0.06 0.07"/>
      <inertia ixx="0.1" ixy="0" ixz="0" iyy="0.1" iyz="0" izz="0.1"/>
    </inertial>
    <visual>
      <origin rpy="1.57079632679 3.14159265359 0" xyz="0 0.2 0"/>
      <geometry>
        <mesh filename="meshes/arm_segment_b.stl"/>
      </geometry>
      <material name="LwrOrange"/>
    </visual>
    <collision>
      <origin rpy="1.57079632679 3.14159265359 0" xyz="0 0.2 0"/>
      <geometry>
        <!-- <mesh filename="package://tams_lwr_description/meshes/lwr/arm_segment_b.dae" scale="0.99 0.99 0.99" /> -->
        <mesh filename="meshes/arm_segment_b_convex.stl"/>
      </geometry>
    </collision>
  </link>
  <gazebo reference="lwr_arm_4_link">
    <!-- <material value="kuka-lwr.material"/> -->
    <turnGravityOff>false</turnGravityOff>
    <selfCollide>false</selfCollide>
    <mu1>100.0</mu1>
    <mu2>100.0</mu2>
    <kp>1000000.0</kp>
    <kd>1.0</kd>
  </gazebo>
  <!-- Sixth element of the arm. z-axis -->
  <joint name="lwr_arm_4_joint" type="revolute">
    <origin rpy="-1.57079632679 0 0" xyz="0 0.2 0.0"/>
    <axis xyz="0 0 1"/>
    <limit effort="204" lower="-2.96705972839" upper="2.96705972839" velocity="2.26892802759"/>
    <safety_controller k_position="30" k_velocity="30" soft_lower_limit="-2.93215314335" soft_upper_limit="2.93215314335"/>
    <dynamics damping="30.0"/>
    <parent link="lwr_arm_4_link"/>
    <child link="lwr_arm_5_link"/>
  </joint>
  <transmission name="lwr_arm_4_joint_transmission">
    <type>transmission_interface/SimpleTransmission</type>
    <actuator name="lwr_arm_4_joint_motor">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
      <mechanicalReduction>100</mechanicalReduction>
    </actuator>
    <joint name="lwr_arm_4_joint">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
    </joint>
    <mechanicalReduction>100</mechanicalReduction>
    <motorTorqueConstant>50</motorTorqueConstant>
    <pulsesPerRevolution>10000</pulsesPerRevolution>
  </transmission>
  <link name="lwr_arm_5_link">
    <inertial>
      <mass value="2.0"/>
      <origin rpy="0 0 0" xyz="0 0 0.124"/>
      <inertia ixx="0.1" ixy="0" ixz="0" iyy="0.1" iyz="0" izz="0.1"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry name="lwr_arm_5_geom">
        <mesh filename="meshes/arm_segment_last.stl"/>
      </geometry>
      <material name="LwrOrange"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="meshes/arm_segment_last.stl"/>
        <!-- <mesh filename="package://tams_lwr_description/meshes/lwr/arm_segment_last.dae" scale="0.99 0.99 0.99" /> -->
        <!--<mesh filename="package://tams_lwr_description/meshes/lwr/convex/arm_segment_last_convex.stl"/> -->
      </geometry>
    </collision>
  </link>
  <gazebo reference="lwr_arm_5_link">
    <!-- <material value="kuka-lwr.material"/> -->
    <turnGravityOff>false</turnGravityOff>
    <selfCollide>false</selfCollide>
    <mu1>100.0</mu1>
    <mu2>100.0</mu2>
    <kp>1000000.0</kp>
    <kd>1.0</kd>
  </gazebo>
  <joint name="lwr_arm_5_joint" type="revolute">
    <origin rpy="-1.57079632679 0 0" xyz="0 0 0.19"/>
    <axis xyz="0 0 1"/>
    <limit effort="306" lower="-2.09439510239" upper="2.09439510239" velocity="3.14159265359"/>
    <safety_controller k_position="30" k_velocity="30" soft_lower_limit="-2.05948851735" soft_upper_limit="2.05948851735"/>
    <dynamics damping="30.0"/>
    <parent link="lwr_arm_5_link"/>
    <child link="lwr_arm_6_link"/>
  </joint>
  <transmission name="lwr_arm_5_joint_transmission">
    <type>transmission_interface/SimpleTransmission</type>
    <actuator name="lwr_arm_5_joint_motor">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
      <mechanicalReduction>100</mechanicalReduction>
    </actuator>
    <joint name="lwr_arm_5_joint">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
    </joint>
    <mechanicalReduction>100</mechanicalReduction>
    <motorTorqueConstant>50</motorTorqueConstant>
    <pulsesPerRevolution>10000</pulsesPerRevolution>
  </transmission>
  <link name="lwr_arm_6_link">
    <inertial>
      <mass value="0.2"/>
      <origin rpy="0 0 0" xyz="0 0 0.0625"/>
      <inertia ixx="0.1" ixy="0" ixz="0" iyy="0.1" iyz="0" izz="0.1"/>
    </inertial>
    <visual>
      <origin rpy="1.57079632679 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="meshes/arm_wrist.stl"/>
      </geometry>
      <material name="LwrDarkGrey"/>
    </visual>
    <collision>
      <origin rpy="1.57079632679 0 0" xyz="0 0 0"/>
      <geometry>
        <!-- <mesh filename="package://tams_lwr_description/meshes/lwr/arm_wrist.dae" scale="0.99 0.99 0.99" /> -->
        <mesh filename="meshes/arm_wrist_convex.stl"/>
      </geometry>
    </collision>
  </link>
  <gazebo reference="lwr_arm_6_link">
    <!-- <material value="kuka-lwr.material"/> -->
    <turnGravityOff>false</turnGravityOff>
    <selfCollide>false</selfCollide>
    <mu1>100.0</mu1>
    <mu2>100.0</mu2>
    <kp>1000000.0</kp>
    <kd>1.0</kd>
  </gazebo>
  <joint name="lwr_arm_6_joint" type="revolute">
    <origin rpy="1.57079632679 0 0" xyz="0 -0.078 0"/>
    <axis xyz="0 0 1"/>
    <limit effort="204" lower="-2.96705972839" upper="2.96705972839" velocity="3.14159265359"/>
    <safety_controller k_position="30" k_velocity="30" soft_lower_limit="-2.93215314335" soft_upper_limit="2.93215314335"/>
    <dynamics damping="30.0"/>
    <parent link="lwr_arm_6_link"/>
    <child link="lwr_arm_7_link"/>
  </joint>
  <transmission name="lwr_arm_6_joint_transmission">
    <type>transmission_interface/SimpleTransmission</type>
    <actuator name="lwr_arm_6_joint_motor">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
      <mechanicalReduction>100</mechanicalReduction>
    </actuator>
    <joint name="lwr_arm_6_joint">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
    </joint>
    <mechanicalReduction>100</mechanicalReduction>
    <motorTorqueConstant>50</motorTorqueConstant>
    <pulsesPerRevolution>10000</pulsesPerRevolution>
  </transmission>
  <!-- simplified model of the original KuKA mounting plate -->
  <link name="lwr_arm_7_link">
    <inertial>
      <mass value="0.2"/>
      <origin xyz="0 0 0"/>
      <inertia ixx="1" ixy="0" ixz="0" iyy="1" iyz="0" izz="1"/>
    </inertial>
    <visual>
      <origin rpy="0 0 -0.785398163397" xyz="0 0 -0.01"/>
      <geometry>
        <cylinder length="0.02" radius="0.0315"/>
      </geometry>
      <material name="LwrDarkGrey"/>
    </visual>
    <collision>
      <origin rpy="0 0 -0.785398163397" xyz="0 0 -0.01"/>
      <geometry>
        <cylinder length="0.02" radius="0.0315"/>
      </geometry>
    </collision>
  </link>
  <gazebo reference="lwr_arm_7_link">
    <!-- <material value="kuka-lwr.material"/> -->
    <!-- <material>Gazebo/RedGlow</material> -->
    <material>Gazebo/Grey</material>
    <turnGravityOff>true</turnGravityOff>
    <selfCollide>false</selfCollide>
    <mu1>100.0</mu1>
    <mu2>100.0</mu2>
    <kp>1000000.0</kp>
    <kd>1.0</kd>
  </gazebo>
  <!-- "second/outer" Kuka adapter plate: diameter 63mm thickness 10 mm -->
  <link name="lwr_adapter2">
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0.005"/>
      <mass value="0.05"/>
      <inertia ixx="1" ixy="0.00" ixz="0.00" iyy="1" iyz="0.00" izz="1"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0.0"/>
      <geometry>
        <cylinder length="0.01" radius="0.0315"/>
      </geometry>
      <material name="Black"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0.0"/>
      <geometry>
        <cylinder length="0.01" radius="0.0315"/>
      </geometry>
    </collision>
  </link>
  <gazebo reference="lwr_adapter2">
    <material>Gazebo/BlackGlow</material>
    <turnGravityOff>false</turnGravityOff>
    <selfCollide>false</selfCollide>
    <!-- kp: stiffness kd: damping mu1, mu2: friction -->
    <mu1>100.0</mu1>
    <mu2>100.0</mu2>
    <kp>1000000.0</kp>
    <kd>1.0</kd>
  </gazebo>
  <joint name="lwr_adapter2_joint" type="fixed">
    <!-- lwr inner adapter plate to outer adapter plate -->
    <origin rpy="0 0 0" xyz="0 0 0.005"/>
    <parent link="lwr_arm_7_link"/>
    <child link="lwr_adapter2"/>
  </joint>
  <!-- the adapter plate between KuKA and the WSG gripper, 120x60x5 mm -->
  <link name="apriltag_table"/>
  <joint name="apriltag_table_joint" type="fixed">
    <parent link="lwr_arm_base_link"/>
    <child link="apriltag_table"/>
    <origin rpy="0 0 0" xyz="0.183 0 -0.016"/>
  </joint>
  <link name="table_top"/>
  <joint name="table_top_joint" type="fixed">
    <parent link="apriltag_table"/>
    <child link="table_top"/>
    <origin rpy="0 0 0" xyz="0.4 0 0"/>
  </joint>
</robot>

<mujoco>
    <compiler 
    meshdir="/data/robosuite_manipulation/robosuite/robosuite/models/assets/robots/lwr/" 
    balanceinertia="true" 
    discardvisual="false" />
</mujoco>


